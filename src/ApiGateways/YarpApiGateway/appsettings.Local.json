{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "IpRateLimiting": {
    "EnableEndpointRateLimiting": true,
    "StackBlockedRequests": false,
    "RealIpHeader": "X-Real-IP",
    "ClientIdHeader": "X-ClientId",
    "HttpStatusCode": 429,
    "GeneralRules": [
      {
        "Endpoint": "*",
        "Period": "10s",
        "Limit": 5
      }
    ]
  },
  "AllowedHosts": "*",
  "ReverseProxy": {
    "catalog-route": {
      "ClusterId": "catalong-cluster",
      "Match": {
        "Path": "/catalog-service/{**catch-all}"
      },
      "Transforms": [ { "PathPattern": "{**catch-all}" } ]
    },
    "basket-route": {
      "ClusterId": "basket-cluster",
      "Match": {
        "Path": "/basket-service/{**catch-all}"
      },
      "Transforms": [ { "PathPattern": "{**catch-all}" } ]
    },
    "ordering-route": {
      "ClusterId": "ordering-cluster",
      "Match": {
        "Path": "/ordering-service/{**catch-all}"
      },
      "Transforms": [ { "PathPattern": "{**catch-all}" } ]
    }
  },
  "Clusters": {
    "catalog-cluster": {
      "Destinations": {
        "destination1": {
          "Address": "http://localhost:6000"
        }
      }
    },
    "basket-cluster": {
      "Destinations": {
        "destination1": {
          "Address": "http://localhost:6001"
        }
      }
    },
    "ordering-cluster": {
      "Destinations": {
        "destination1": {
          "Address": "http://localhost:6003"
        }
      }
    }
  }
}
